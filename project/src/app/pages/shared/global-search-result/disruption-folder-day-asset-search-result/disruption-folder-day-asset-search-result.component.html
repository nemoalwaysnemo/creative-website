<global-search-result [templateRef]="thumbnailView"></global-search-result>
<ng-template #thumbnailView let-doc="doc">
  <div class="thumbnail-view-item">
    <div class="image-holder">
      <ng-container *ngIf="showDialog">
        <a (click)="openDialog(dialog)" [title]="doc.title" [ngStyle]="{'background-image': 'url('+doc.thumbnailUrl+')'}"></a>
      </ng-container>
      <ng-container *ngIf="!showDialog">
        <a [routerLink]="['/p/disruption/Disruption Days/day', folderId, 'asset', doc.uid]" [ngStyle]="{'background-image': 'url('+doc.thumbnailUrl+')'}"></a>
      </ng-container>
    </div>
    <div class="description">
      <h1 [title]="doc.title"><a [routerLink]="['/p/disruption/Disruption Days/day', folderId, 'asset', doc.uid]">{{doc.title}}</a></h1>
      <h4 class="year">{{doc.get('The_Loupe_ProdCredits:production_date') | date:'MMM d, yyyy':'UTC'}}</h4>
      <div class="line"></div>
      <h4 class="agency">{{doc.get('The_Loupe_Main:agency')}}</h4>
    </div>
    <ng-template #dialog>
      <global-document-dialog [settings]="dialogSettings" [documentModel]="doc" [title]="dialogTitle" [metadata]="dialogMetadata"></global-document-dialog>
    </ng-template>
  </div>
</ng-template>
