<div class="batch-upload" [nbSpinner]="loading" nbSpinnerStatus="disabled" [ngStyle]="loading ? {'min-height': '150px'} : {}">
  <div class="batch-upload-queue">
    <h6 *ngIf="uploadSettings.enableAction">{{ uploadItems.length }} Queued Files</h6>
    <table class="table">
      <thead>
        <tr>
          <th>File Name</th>
          <th>Field</th>
          <th>Size</th>
          <th *ngIf="uploadSettings.enableAction">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of uploadItems; let i=index">
          <td nowrap title="{{item.fileName}}"><strong>{{ parseFileName(item.fileName) }}</strong></td>
          <td *ngIf="uploadSettings.enableForm && item.isMainFile()">
            <dynamic-ng-form [formClass]="'document-form'" [group]="formGroups[i]" [formModel]="formModels[i]" (customEvent)="onCustomEvent($event)" (blur)="onBlur($event)" (change)="onChange($event)" (focus)="onFocus($event)">
            </dynamic-ng-form>
          </td>
          <td *ngIf="!uploadSettings.enableForm || uploadSettings.enableForm && !item.isMainFile()">{{ item.getFileType() }}</td>
          <td nowrap *ngIf="item.original">{{ item.fileSize/1024/1024 | number:'.2' }} MB</td>
          <td nowrap *ngIf="!item.original">{{ item.fileSize/1024/1024 | number:'.2' }} MB, {{ item.percentLoaded }}%</td>
          <td nowrap *ngIf="uploadSettings.enableAction"><button nbButton outline class="btn btn-danger btn-xs" status="danger" (click)="removeOne(i)"
              [disabled]="(uploadStatus$ | async)?.disableDeleteButton() || (item.isMainFile() && item.formMode === 'edit')">Delete</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
